<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TreeSumm</title>

</head>
<body>
    <script>
        var mr=[  5, 7, 
        [ 4, [2], 8, [1,3], 2 ], 
        [ 9, [] ], 
        1, 8
      ];
      ;
function fra(r,v,i,a) {
  return r+v; 
  
}
console.log( mr.flat(Infinity).reduce(fra,0) );
var sum= mr.flat(Infinity).reduce((function(a,b,c,d) {
return a+b;
}),0);
console.log(sum);
function treeSum(array) {
  var value;
  var sum = 0;
  for (var i=0; i<array.length; i++){
  value = array[i];
    if (Array.isArray(value)) {
      sum += treeSum(value)
    } else {
    sum += value
    }
  };
  return sum;
};

console.log(treeSum(mr));

    </script>
</body>
</html>