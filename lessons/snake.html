<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>snake</title>
</head>

<body>
    <div class="pole" id="pole">
        <div class="snake" id="snake"></div>
    </div>
    <style>
        .pole {
            height: 500px;
            width: 500px;
            border: solid 5px;
            position: relative;
        }

        .snake {
            width: 20px;
            height: 20px;
            background-color: seagreen;
            position: absolute;
        }
    </style>
    <script>
        "use sctrict"
        let snake = document.getElementById("snake");
        let pole=document.getElementById("pole");
        let x = 0;
        let y = 0;
        let timer;
        /*  const star = function (callback) {
             timer = setInterval(callback, 10);
         } */
        function moveRight() {
            if(snake.offsetLeft>pole.offsetWidth-snake.offsetWidth-11){
                clearInterval(timer);
                return
            }
            x++;
            snake.style.left = x + "px";

        }
        function moveLeft() {
            if(snake.offsetLeft<pole.offsetLeft-7){
                clearInterval(timer);
                return
            }
            x--;
            snake.style.left = x + "px";

        }
        function moveDown() {
            if(snake.offsetTop>pole.offsetHeight-snake.offsetHeight-10){
                clearInterval(timer);
                return
            }
            y++
            snake.style.top = y + "px";

        }
        function moveUp() {
            if(snake.offsetTop<pole.offsetTop-7){
                clearInterval(timer);
                return
            }
            y--
            snake.style.top = y + "px";

        }

        window.addEventListener("keydown", goSnake)
        function goSnake(ev) {
            console.log(ev);
            let key = ev.key;
            console.log(key);
            switch (key) {
                case "ArrowDown":
                    if (timer) {
                        clearInterval(timer)

                    }
                    timer = setInterval(moveDown, 10)

                    break;
                case "ArrowRight":
                    if (timer) {
                        clearInterval(timer)

                    }
                    timer = setInterval(moveRight, 10)
                    break;
                case "ArrowLeft":
                    if (timer) clearInterval(timer)
                    timer = setInterval(moveLeft, 10)

                    break;
                case "ArrowUp":
                    if (timer) clearInterval(timer)
                    timer = setInterval(moveUp, 10)
                    break;


            }

        }



    </script>
</body>

</html>